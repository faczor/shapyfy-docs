---
tags:
  - mobile
screen: Workout Summary
agent: "[[designer]]"
feature: "[[features/2-workout_process]]"
design_state: "[[Statuses/Finished]]"
---
# 2.04 - Workout Summary Screen

> **Parent Feature**: [2-workout_process.md](../features/2-workout_process.md)
> **Navigation**: See [00-app-overview.md](../features/00-app-overview.md) for complete flows

## 1. Visual Preview
> [!TIP]
> *[Insert Screen Mockup Here]*
> *For now, we can use a placeholder or a Mermaid diagram if applicable.*

## 2. Human-Readable Summary
**User Behavior**
This is the "Victory Screen". Users land here after finishing a workout. It's a moment of celebration and review. They can see their total stats and a list of what they accomplished.

**Key Cases**
*   **Standard Completion**: Shows duration, exercise count, and volume.
*   **Plan Exceeded**: If they did more volume than planned, a "Plan Exceeded" badge appears.
*   **Skipped Exercises**: Any skipped exercises are shown at the bottom of the list, grayed out.

**Data Displayed**
*   **Headline**: "Workout Complete!"
*   **Stats**: Duration (min), Exercises (count), Volume (kg).
*   **List**: Breakdown of exercises performed.

**Interaction & Motion**
The screen has a celebratory "Victory" feel. The success icon springs onto the screen, followed by stats cascading in one by one. If the user exceeds their goal, the progress bar fills up and overflows with a golden glow, emphasizing the achievement.


## 3. Detailed Designer Specification
### <workout_summary_screen>

#### Full Screen Content
**Background:** Linear Gradient
- **Start (Top Left):** #FFFFFF (White)
- **End (Bottom Right):** #F0FFF4 (Very Light Green)
- **Angle:** 135 degrees

**Padding:** 24dp all sides
**Scrollable:** Vertical (if list is long)

#### Success Icon
**Position:** Top Center, margin top 48dp

**Icon:** `check_circle` (filled)
- **Size:** 64dp
- **Color:** #A8E6CF (LimeGreenDark)
- **Shadow:** Elevation 4dp
- **Animation:** Scale up (0 â†’ 1.2 â†’ 1.0) with spring effect

#### Heading
**Position:** Below Icon, margin top 16dp

**Text:** "Workout Complete!"
- **Font:** 24sp / Bold
- **Color:** #000000
- **Alignment:** Center

**Subtext (Date):**
- **Text:** [Current Date, e.g., "Monday, Jan 15"]
- **Font:** 14sp / Medium
- **Color:** #666666
- **Alignment:** Center
- **Margin top:** 4dp

#### Stats Summary (Row)
**Position:** Below Heading, margin top 32dp

**Layout:** Row of 3 items, evenly spaced

**Item 1: Duration**
- **Value:** "[N] min" (20sp / Bold, #000000)
- **Label:** "Duration" (12sp / Regular, #666666)
- **Icon:** `timer` (16dp, #A8E6CF)

**Item 2: Exercises**
- **Value:** "[N]" (20sp / Bold, #000000)
- **Label:** "Exercises" (12sp / Regular, #666666)
- **Icon:** `fitness_center` (16dp, #A8E6CF)

**Item 3: Volume**
- **Value:** "[N] kg" (20sp / Bold, #000000)
- **Label:** "Volume" (12sp / Regular, #666666)
- **Icon:** `bar_chart` (16dp, #A8E6CF)
- **Conditional Color:** If `volume > plannedVolume` â†’ Text Color #A8E6CF (Green)

#### Exercise List Card
**Position:** Below Stats, margin top 32dp

**Container:**
- **Background:** #FFFFFF
- **Border radius:** 16dp
- **Padding:** 16dp
- **Shadow:** Elevation 2dp

**Header:**
- **Text:** "Summary" (16sp / Bold, #000000)
- **Margin bottom:** 12dp

**List Items:**
- **Layout:** Row per exercise
- **Left:** "[Exercise Name]" (14sp / Medium, #000000)
- **Right:** "[N] Sets" (14sp / Regular, #666666)
- **Divider:** 1dp solid #F3F3F8 between items

**Skipped Items (at bottom):**
- **Text Color:** #999999 (GrayMuted)
- **Style:** Italic
- **Right Text:** "Skipped"

#### Done Button
**Position:** Bottom of screen (Fixed or end of scroll)
**Margin top:** 32dp

**Button:**
- **Width:** Full Width
- **Height:** 56dp
- **Background:** #000000 (Black)
- **Text:** "Done"
- **Text Color:** #FFFFFF
- **Font:** 16sp / Bold
- **Border radius:** 28dp (Pill shape)
- **Shadow:** Elevation 4dp
- **Behavior:**
  - Saves workout to history (final commit)
  - Navigates to Dashboard
  - Shows toast: "Workout saved!"

#### Celebration Badge (Optional)
**Condition:** `totalVolume > plannedVolume` OR `personalRecord == true`

**Appearance:**
- **Position:** Top right of Stats Summary
- **Text:** "PLAN EXCEEDED" or "NEW PR"
- **Background:** #FFD700 (Gold)
- **Text Color:** #000000
- **Font:** 10sp / Bold
- **Padding:** 4dp horizontal, 2dp vertical
- **Border radius:** 4dp
- **Animation:** Fade in + Slide up

---

## Plan Mode: Adherence Summary Card (NEW)

**Condition:** `workout.isFromPlan == true`

When the completed workout was from a plan, show a dedicated adherence summary card that connects the workout back to the user's structured program.

---

### Plan Adherence Card Layout

**Position:** Below "Workout Complete!" heading, above stats summary (high visibility)

**Container:**
- **Background:** #FFFFFF (LightSurface)
- **Border radius:** 12dp
- **Border:** 2dp solid `#A8E6CF` (LimeGreenDark - connects to plan)
- **Padding:** 16dp
- **Margin:** 16dp horizontal, 16dp bottom
- **Shadow:** Elevation 2dp

**Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹  PPL Strength Â· Day 3 Complete            â”‚  â† Header
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  5/6 exercises    â”‚  â”‚  â† Progress bar
â”‚  â”‚                        83% adherence     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                               â”‚
â”‚  Week 2 Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 4/7 days     â”‚  â† Cycle progress (optional)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Header Row

**Icon:**
- Icon: ğŸ“‹ (clipboard emoji) OR Material Symbol `assignment`
- Color: `#A8E6CF` (LimeGreenDark)
- Size: 20dp
- Margin right: 8dp

**Plan Name:**
- Text: "[Plan Name]" (e.g., "PPL Strength")
- Font: 16sp / Bold
- Color: `#000000` (TextOnLight)

**Day Complete Badge:**
- Text: "Â· Day [X] Complete"
- Font: 16sp / Regular
- Color: `#666666` (TextOnLightTertiary)
- Margin left: 4dp

---

### Adherence Progress Bar

**Position:** Below header, margin top 16dp

**Progress Bar Container:**
- **Width:** Full card width - 32dp padding
- **Height:** 8dp
- **Background:** `#E5E5E5` (LightGray - empty track)
- **Border radius:** 4dp

**Progress Fill:**
- **Width:** Percentage of exercises completed (e.g., 83% = 5/6)
- **Background:** Gradient from `#A8E6CF` (left) to `#CBFFC9` (right)
- **Border radius:** 4dp
- **Animation:** Fill from 0% â†’ target over 500ms, ease-out

**Progress Text (Right of bar):**
- Text format: "[X]/[Y] exercises"
- Example: "5/6 exercises"
- Font: 14sp / Medium
- Color: `#000000`
- Margin left: 12dp

**Percentage Text (Below bar):**
- Text format: "[X]% adherence"
- Example: "83% adherence"
- Font: 13sp / Regular
- Color: `#666666`
- Margin top: 4dp
- Alignment: Right (aligns with progress text)

---

### Adherence Calculation

```kotlin
data class PlanAdherence(
    val planExercisesTotal: Int,      // Exercises from plan (not user-added)
    val planExercisesCompleted: Int,  // Plan exercises with status == COMPLETED
    val planExercisesSkipped: Int,    // Plan exercises with status == SKIPPED
    val adherencePercentage: Float    // completd / total * 100
)

fun calculateAdherence(workout: ActiveWorkout): PlanAdherence {
    val planExercises = workout.exercises.filter { it.isFromPlan }
    val completed = planExercises.count { it.status == ExerciseStatus.COMPLETED }
    val skipped = planExercises.count { it.status == ExerciseStatus.SKIPPED }

    return PlanAdherence(
        planExercisesTotal = planExercises.size,
        planExercisesCompleted = completed,
        planExercisesSkipped = skipped,
        adherencePercentage = (completed.toFloat() / planExercises.size) * 100
    )
}
```

**Key Rule:** Only plan exercises count for adherence. User-added exercises are bonus.

---

### Adherence States

| Adherence % | Visual Treatment | Message |
|-------------|------------------|---------|
| 100% | Green border, âœ“ checkmark | "Perfect adherence!" |
| 75-99% | Green border, normal | "[X]/[Y] exercises" |
| 50-74% | Orange border (#FFB366) | "[X]/[Y] exercises" |
| <50% | Neutral gray border | "[X]/[Y] exercises" |

**100% Adherence Special State:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹  PPL Strength Â· Day 3 Complete      âœ“     â”‚  â† Checkmark added
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  6/6 exercises    â”‚  â”‚  â† Full bar
â”‚  â”‚                        Perfect adherence!â”‚  â”‚  â† Special text
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Cycle Progress Row (Optional)

**Condition:** Show if we have cycle data available

**Position:** Below adherence bar, margin top 12dp

**Layout:**
- Text: "Week [X] Progress:"
- Mini progress bar: Same style, smaller (6dp height)
- Text: "[Y]/[Z] days"

**Example:** "Week 2 Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 4/7 days"

**Specifications:**
- Label font: 13sp / Regular
- Label color: `#666666`
- Bar width: 60% of card width
- Days text: 13sp / Medium, `#000000`

---

## Plan Mode: Next Day Preview Card (NEW)

**Condition:** `workout.isFromPlan == true` AND `nextDay != null` (not last day of plan)

Encourage continued engagement by showing what's coming next.

---

### Next Day Preview Layout

**Position:** Below adherence card, above exercise list card

**Container:**
- **Background:** `#F9F9F9` (very light gray - subtle)
- **Border radius:** 12dp
- **Border:** 1dp solid `#E5E5E5` (LightGray)
- **Padding:** 16dp
- **Margin:** 16dp horizontal, 16dp bottom

**Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“†  Next up: Day 4 - Push                    â”‚
â”‚      5 exercises Â· Est. 45 min           [â†’]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Next Day Preview Content

**Icon:**
- Icon: ğŸ“† (calendar emoji) OR Material Symbol `event`
- Color: `#666666` (neutral - not green, not action yet)
- Size: 18dp
- Margin right: 8dp

**Header:**
- Text: "Next up: Day [X] - [Day Name]"
- Example: "Next up: Day 4 - Push"
- Font: 15sp / Medium
- Color: `#000000`

**Metadata:**
- Text: "[X] exercises Â· Est. [Y] min"
- Example: "5 exercises Â· Est. 45 min"
- Font: 13sp / Regular
- Color: `#666666`
- Margin top: 4dp

**Chevron (Right):**
- Icon: â†’ (right arrow, Material Symbol `chevron_right`)
- Color: `#CCCCCC`
- Size: 20dp
- Position: Right side, vertically centered

---

### Next Day Preview Tap Behavior

**Tap Area:** Entire card is tappable

**Tap Behavior:**
1. Navigate to Workout Preview (5.05) for next day
2. User can see full exercise list
3. User can choose to start immediately or return

**Rationale:**
- Encourages engagement ("What's next?")
- Doesn't force commitment (just preview)
- Builds anticipation for next session

---

### Edge Cases for Next Day Preview

**Scenario 1: Last Day of Cycle**
- Next day wraps to Day 1 of next cycle
- Show: "Next up: Day 1 - Push (Week 3)"

**Scenario 2: Next Day is REST**
- Show: "Next up: Day 5 - Rest Day ğŸ˜´"
- No exercise count (REST days have no exercises)

**Scenario 3: Plan Completed (Last Day of Last Cycle)**
- Hide Next Day Preview card
- Show: Cycle Completion screen instead (see below)

---

## Plan Mode: Cycle Completion Milestone (NEW)

**Condition:** `workout.planDayIndex == plan.days.lastIndex` (completed last day of cycle)

When user finishes the last day of a plan cycle, show a special milestone celebration.

---

### Cycle Completion Layout

**Position:** Replaces Next Day Preview card

**Container:**
- **Background:** Linear gradient `#FFF9E6` â†’ `#FFFDF5` (warm gold tint)
- **Border radius:** 16dp
- **Border:** 2dp solid `#FFD700` (Gold)
- **Padding:** 20dp
- **Margin:** 16dp horizontal, 16dp bottom
- **Shadow:** Elevation 4dp

**Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ğŸ‰                                 â”‚
â”‚     Week 2 Complete!                          â”‚
â”‚                                               â”‚
â”‚     PPL Strength                              â”‚
â”‚     7/7 workouts Â· 12.4 tonnes lifted         â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       Start Week 3 â†’                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Cycle Completion Content

**Celebration Icon:**
- Icon: ğŸ‰ (party emoji) OR confetti illustration
- Size: 48dp
- Position: Top center
- Animation: Scale in with spring (0.5 â†’ 1.2 â†’ 1.0)

**Headline:**
- Text: "Week [X] Complete!"
- Example: "Week 2 Complete!"
- Font: 24sp / Bold
- Color: `#000000`
- Text alignment: Center
- Margin top: 12dp

**Plan Name:**
- Text: "[Plan Name]"
- Font: 16sp / Medium
- Color: `#666666`
- Text alignment: Center
- Margin top: 8dp

**Cycle Stats:**
- Text: "[X]/[Y] workouts Â· [Z] tonnes lifted"
- Example: "7/7 workouts Â· 12.4 tonnes lifted"
- Font: 14sp / Regular
- Color: `#666666`
- Text alignment: Center
- Margin top: 4dp

**Start Next Week Button:**
- Background: `#A8E6CF` (LimeGreenDark)
- Text: "Start Week [X+1] â†’"
- Example: "Start Week 3 â†’"
- Text color: `#1A1A1A`
- Font: 16sp / Bold
- Padding: 14dp vertical
- Border radius: 12dp
- Width: Full width
- Margin top: 20dp

**Tap Behavior:**
1. Updates plan: `currentCycle = currentCycle + 1`, `currentDayIndex = 0`
2. Navigates to Dashboard
3. Dashboard shows: "Start Day 1: Push (Week 3)"

---

### Cycle Comparison (Optional - Post-MVP)

**For future enhancement:** Show comparison to previous cycle

```
Week 2 vs Week 1:
â†— +1.2 tonnes total volume
â†— +3 more sets completed
```

---

---

## Plan Mode: Skipped Day Handler Dialog (NEW)

**Condition:** `workout.isFromPlan == true` AND `workout.wasOutOfOrder == true`

When user completed an out-of-order workout (e.g., did Day 3 when they were on Day 2), this dialog appears on the Workout Summary screen to ask what to do with the skipped day.

---

### Skipped Day Handler Layout

**Trigger:** Automatically shown after "Workout Complete!" animation finishes (delay 1.5s)

**Overlay:**
- Background: #000000 at 50% opacity (lighter than normal dialogs - less alarming)
- Tap outside: Does NOT dismiss (user must make a choice)

**Dialog Container:**
- Background: #FFFFFF
- Border radius: 16dp
- Margin: 24dp horizontal
- Padding: 24dp
- Shadow: Elevation 8dp
- Max width: 340dp

**Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  What about Day 2?                            â”‚
â”‚                                               â”‚
â”‚  You completed Day 3 out of order.            â”‚
â”‚  Day 2 (Pull) was skipped.                    â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â—‹  Mark as Skipped                     â”‚  â”‚
â”‚  â”‚     Move on to Day 4                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â—  Keep Day 2 Pending                  â”‚  â”‚
â”‚  â”‚     Do it next time you train           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                               â”‚
â”‚            [Confirm]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Dialog Header

**Title:**
- Text: "What about Day [X]?"
- Example: "What about Day 2?"
- Font: 20sp / Bold
- Color: #000000
- Margin bottom: 12dp

**Explanation:**
- Line 1: "You completed Day [Y] out of order."
- Line 2: "Day [X] ([Day Name]) was skipped."
- Example: "You completed Day 3 out of order.\nDay 2 (Pull) was skipped."
- Font: 14sp / Regular
- Color: #666666
- Line height: 20sp
- Margin bottom: 24dp

---

### Options (Radio Buttons)

**Option Container:**
- Background: #F9F9F9
- Border: 1.5dp solid #E5E5E5
- Border radius: 12dp
- Padding: 16dp
- Margin bottom: 12dp

**Selected State:**
- Border: 2dp solid #A8E6CF (LimeGreenDark)
- Background: #F0FFF4 (very light green tint)

**Radio Button:**
- Size: 20dp
- Unselected: Border 2dp solid #CCCCCC, transparent center
- Selected: Border 2dp solid #A8E6CF, center fill #A8E6CF
- Position: Left of text, vertically centered with title
- Margin right: 12dp

**Option 1: Mark as Skipped**

*Title:*
- Text: "Mark as Skipped"
- Font: 16sp / Medium
- Color: #000000

*Subtitle:*
- Text: "Move on to Day [X+1]"
- Example: "Move on to Day 4"
- Font: 13sp / Regular
- Color: #666666
- Margin top: 2dp

*Behavior:*
- System marks Day 2 as SKIPPED
- `currentDayIndex = completedDayIndex + 1` (Day 4)
- Dashboard shows: "Start Day 4: Legs"

**Option 2: Keep Pending (Default Selected)**

*Title:*
- Text: "Keep Day [X] Pending"
- Example: "Keep Day 2 Pending"
- Font: 16sp / Medium
- Color: #000000

*Subtitle:*
- Text: "Do it next time you train"
- Font: 13sp / Regular
- Color: #666666
- Margin top: 2dp

*Behavior:*
- Day 2 stays as PENDING
- `currentDayIndex = skippedDayIndex` (Day 2)
- Dashboard shows: "Start Day 2: Pull" (user still needs to do it)

---

### Confirm Button

**Container:**
- Background: #A8E6CF (LimeGreenDark)
- Border radius: 12dp
- Height: 48dp
- Width: 100%
- Margin top: 8dp

**Text:**
- Text: "Confirm"
- Font: 16sp / Bold
- Color: #1A1A1A
- Alignment: Center

**Tap Behavior:**
1. Apply selected option
2. Dismiss dialog
3. Continue showing Workout Summary
4. Plan progression updates in background

**Haptic:** Medium impact

---

### Data Model

```kotlin
data class OutOfOrderWorkoutResult(
    val completedDayIndex: Int,     // Day 3 (the one they did)
    val skippedDayIndex: Int,       // Day 2 (the one they skipped over)
    val userChoice: SkippedDayChoice
)

enum class SkippedDayChoice {
    MARK_AS_SKIPPED,   // Day 2 marked skipped, progress to Day 4
    KEEP_PENDING       // Day 2 stays pending, progress shows Day 2
}
```

---

### Plan Mode Summary: Screen Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  WORKOUT SUMMARY (Plan Mode)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚    âœ“  Workout Complete!                                     â”‚
â”‚       Monday, Jan 15                                        â”‚
â”‚                                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚  ğŸ“‹  PPL Strength Â· Day 3 Complete                  â”‚  â”‚  â† Plan Adherence
â”‚    â”‚      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  5/6 exercises (83%)            â”‚  â”‚     Card (NEW)
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚  ğŸ“†  Next up: Day 4 - Push                     [â†’]  â”‚  â”‚  â† Next Day Preview
â”‚    â”‚      5 exercises Â· Est. 45 min                      â”‚  â”‚     Card (NEW)
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚    â”Œâ”€ Stats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚  â±ï¸ 48 min    ğŸ‹ï¸ 6     ğŸ“Š 2.4k kg                   â”‚  â”‚  â† Existing Stats
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚    â”Œâ”€ Summary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚  âœ“ Squat              4 sets                        â”‚  â”‚  â† Existing Exercise
â”‚    â”‚  âœ“ Leg Press          3 sets                        â”‚  â”‚     List
â”‚    â”‚  â€“ Lunges             Skipped                       â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚                      Done                           â”‚  â”‚  â† Existing Button
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### </workout_summary_screen>

## 4. Notes
*   **Developer Notes**:
    *   **Data Models**: Requires `WorkoutSession` object with start/end time, exercises list, and volume stats.
    *   **Calculations**:
        *   Duration = `endTime - startTime`
        *   Volume = Sum of all sets
    *   **Edge Cases**:
        *   **Zero Volume**: If all skipped, show 0 kg.
        *   **Very Long Workout**: Format duration as "H:MM" if > 60 min.
*   **Future Enhancements**:
    *   **Share Button**: Allow sharing summary to social media.
    *   **Rating**: "How did this workout feel?" (RPE scale).
*   **Revision History**:
    *   **2025-01-05**: Initial design.
    *   **2025-01-10**: Added "Skipped" exercise handling.
### Completed Exercise Item (Horizontal Layout)

**Checkmark (Left):**
- Icon: âœ“
- Color: #A8E6CF (from LimeGreenDark)
- Size: 18dp
- Margin right: 8dp

**Exercise Name (Center-Left):**
- Text: Exercise name (e.g., "Squat")
- Font: 16sp / Medium
- Color: #000000

**Set Count (Right):**
- Text format: "[X] sets"
- Example: "4 sets"
- Font: 16sp / Regular
- Color: #666666 (from TextOnLightTertiary)

**Divider (Between items):**
- Border bottom: 1dp solid #F0F0F5 (from LightGray)
- Not shown after last item

**Padding:**
- Vertical: 12dp per item

---

### Skipped Exercise Item (Horizontal Layout - NEW)

**Icon (Left):**
- Icon: â€“ (dash) or â—‹ (empty circle)
- Color: #CCCCCC (light gray, neutral)
- Size: 18dp
- Margin right: 8dp

**Exercise Name (Center-Left):**
- Text: Exercise name (e.g., "Bench Press")
- Font: 16sp / Regular (not Medium - less emphasis than completed)
- Color: #999999 (grayed out)

**Status Text (Right):**
- Text: "Skipped"
- Font: 14sp / Regular
- Color: #999999
- Style: Italic

**Divider (Between items):**
- Border bottom: 1dp solid #F0F0F5

**Padding:**
- Vertical: 12dp per item

---

### Example Mixed Display:

```
âœ“ Squat                    4 sets
â€“ Bench Press              Skipped
âœ“ Deadlift                 3 sets
âœ“ Bicep Curls              3 sets
â€“ Tricep Extensions        Skipped
```

**Purpose:**
- Complete picture of workout attempt
- Non-judgmental (neutral "Skipped" tone)
- User sees their intentional choices
- Maintains exercise order (Issue #5)

---

## Done Button

**Position:** Bottom of screen, above safe area

**Styling:**
- Background: #24392A (dark green, strong finish)
- Text: "Done"
- Text color: #FFFFFF
- Font: 18sp / Bold
- Padding: Vertical 16dp
- Border radius: 12dp
- Width: Full width (minus container padding 24dp each side)
- Shadow: Elevation 4dp

**Behavior:**
- Tap "Done" â†’ returns to Dashboard (workout already in history)
- Back button â†’ same as Done (no confirmation needed, workout already saved when user tapped "Finish Workout")

**Haptic Feedback:**
- Celebration haptic on screen load (heavy impact)
- Tap feedback (light impact)

---

## Celebration Badge for Exceeding Plan (Optional - Issue #6)

**When:** User logged more sets than plan suggested for at least one exercise

**Example:**
- Plan: Squat 3 sets
- User logged: Squat 5 sets

**Position:** Between "Workout Complete!" heading and stats

**Container:**
- Background: #FFF9E6 (light warm yellow)
- Border: 1dp solid #F0E5C8
- Border radius: 8dp
- Padding: 12dp
- Margin bottom: 16dp

**Icon + Text Layout (Horizontal):**

**Icon:**
- Icon: ğŸ’ª flexed bicep emoji or ğŸ”¥ fire
- Size: 20dp
- Margin right: 8dp

**Text:**
- Text: "You crushed it! Exceeded your plan on [X] exercises."
- Example: "You crushed it! Exceeded your plan on 2 exercises."
- Font: 14sp / Medium
- Color: #666666
- Line height: 20sp

**Purpose:** Positive reinforcement without interrupting workout flow

**Implementation Note:** Optional for MVP. Backend should always track plan adherence for adaptation.

---

## Animations

### Screen Load

**Sequence:**
1. **Background fades in** (0-200ms)
   - Opacity: 0 â†’ 1
   - Duration: 200ms

2. **Success icon scales in** (200-500ms)
   - Scale: 0 â†’ 1.2 â†’ 1.0 (bounce)
   - Duration: 300ms
   - Spring animation

3. **Heading fades in** (400-600ms)
   - Opacity: 0 â†’ 1
   - TranslateY: -10dp â†’ 0dp
   - Duration: 200ms

4. **Stats fade in** (500-700ms)
   - Same as heading
   - Staggered by 100ms

5. **Exercise list card slides up** (600-900ms)
   - Opacity: 0 â†’ 1
   - TranslateY: +20dp â†’ 0dp
   - Duration: 300ms
   - Ease-out

6. **Done button slides up** (700-1000ms)
   - Same as exercise list
   - Staggered by 100ms

**Total animation:** ~1 second, smooth and celebratory

---

## Developer Notes

### Data Model
```kotlin
data class WorkoutSummary(
    val workoutId: String,
    val duration: Int,  // minutes
    val exercises: List<ExerciseSummary>,
    val totalSets: Int,
    val completedCount: Int,
    val skippedCount: Int,
    val exceededPlanCount: Int = 0  // for celebration badge
)

data class ExerciseSummary(
    val exerciseName: String,
    val status: ExerciseStatus,  // COMPLETED or SKIPPED
    val setsLogged: Int,
    val totalVolume: Int
)
```

### Stats Calculation
```kotlin
// Duration in minutes
val duration = ((endTime - startTime) / 60000).toInt()

// Exercise counts
val completedCount = exercises.count { it.status == ExerciseStatus.COMPLETED }
val skippedCount = exercises.count { it.status == ExerciseStatus.SKIPPED }
val totalSets = exercises
    .filter { it.status == ExerciseStatus.COMPLETED }
    .sumOf { it.setsLogged }

// Total volume
val totalVolume = exercises
    .filter { it.status != ExerciseStatus.SKIPPED }
    .flatMap { it.sets }
    .sumOf { set -> set.weight * set.reps }

// Conditional stats line 2
val statsLine2 = if (skippedCount > 0) {
    "$totalExercises exercises ($completedCount completed, $skippedCount skipped)"
} else {
    "$totalExercises exercises Â· $totalSets sets"
}

// Stats line 3
val statsLine3 = "${formatVolume(totalVolume)} kg total volume"

// Volume formatting (same as Active Workout stats card)
fun formatVolume(volume: Double): String {
    return when {
        volume >= 1_000 -> "${(volume / 1000).roundToOneDecimal()}k"
        else -> volume.toInt().toString()
    }
}
```

### Exercise Order
```kotlin
// Maintain user's workout order (Issue #5)
fun getOrderedExercises(): List<ExerciseSummary> {
    return exercises.sortedBy { it.orderIndex }
    // NEVER sort by status
}
```

---

## Edge Cases

### Scenario 1: Workout with 0 Completed Exercises (All Skipped)
**Stats:**
- "Duration: 5 minutes"
- "3 exercises (0 completed, 3 skipped)"
- "0 kg total volume"

**Exercise List:**
```
â€“ Squat                    Skipped
â€“ Bench Press              Skipped
â€“ Deadlift                 Skipped
```

**Behavior:** Valid use case (user scouted gym, all equipment occupied)

---

### Scenario 2: Single Exercise Workout
**Stats:**
- "Duration: 8 minutes"
- "1 exercise Â· 4 sets"
- "320 kg total volume" (example: 4 sets Ã— 10 reps Ã— 8kg)

**Exercise List:**
```
âœ“ Bench Press              4 sets
```

**Behavior:** Standard display, no special handling

---

### Scenario 3: Very Long Workout (20+ Exercises)
**Behavior:**
- Exercise list card becomes scrollable (LazyColumn inside)
- Max height: 60% of screen height
- Scroll indicator visible if content overflows
- Done button always visible at bottom

---

## Future Enhancements (Post-MVP)

**Not implemented in MVP, documented for future:**

1. **Share Button**
   - Position: Next to Done button or above exercise list
   - Behavior: Generates workout image, opens share sheet
   - Platforms: Social media, messaging apps

2. **Personal Record Badges**
   - Show "ğŸ† New PR!" for exercises where user exceeded personal best
   - Display in exercise list next to exercise name
   - Example: "âœ“ Bench Press    4 sets    ğŸ† New PR!"

3. **Confetti Animation**
   - Overlay confetti particles on screen load
   - Duration: 2-3 seconds
   - Subtle, not overwhelming
   - Disable if user has "Reduce Motion" enabled

4. **Progress Comparison**
   - "15% more volume than last workout"
   - "2 more sets than average"
   - Show below stats summary

5. **Motivational Messages**
   - Randomly selected encouraging message
   - Example: "Great job! Keep it up!"
   - Position: Below heading, above stats

---


## Revision History

### 2025-11-26: Plan Mode Full Integration (Plan â†” Workout Process)
- **ADDED**: Plan Adherence Summary Card (shows plan context, exercise adherence %, cycle progress)
- **ADDED**: Next Day Preview Card (encourages continued engagement, shows upcoming workout)
- **ADDED**: Cycle Completion Milestone screen (celebrates week completion, prompts next cycle)
- **ADDED**: Skipped Day Handler Dialog (for out-of-order workouts - ask user to skip or keep pending)
- **ADDED**: Adherence calculation logic (only plan exercises count, user-added are bonus)
- **ADDED**: Visual states for adherence levels (100% = perfect, 75-99% = green, 50-74% = orange, <50% = gray)
- **ADDED**: Screen flow diagram showing full Plan Mode Workout Summary layout
- **Purpose**: Complete the Plan â†’ Execute â†’ Celebrate â†’ Continue loop for structured training users

### 2025-11-07: State Transition Clarification + Volume Addition
- **CLARIFIED**: Workout marked as COMPLETED on "Finish Workout" tap (not on "Done" tap)
- Entry state: Workout already in history when user arrives at this screen
- Back arrow behavior: Same as "Done" (workout already saved)
- **ADDED**: Total volume line (Line 3) to stats summary
- Volume formatting: Same rules as Active Workout stats card
- Rationale: Volume is key metric for strength trainers, already calculated

### 2025-01-05: Skipped Exercise Support
- Added skipped exercise display in list (Issue #6)
- Updated stats line to show completed/skipped breakdown
- Added mixed display example (completed + skipped)
- Documented celebration badge for exceeding plan

### 2025-01-11: Initial Implementation
- Created celebration screen with gradient background
- Added stats summary (duration, exercises, sets)
- Added exercise list card with completion indicators
- Added Done button navigation

### 2025-01-05: Documentation Restructure
- Extracted from workout_process.md into dedicated file
- Following onboarding convention (screen-centric organization)
