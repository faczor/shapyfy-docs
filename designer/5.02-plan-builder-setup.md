---
tags:
  - mobile
  - planning
  - workout-plan
screen: Plan Builder - Setup
agent: "[[designer]]"
feature: "[[features/5-workout-plan]]"
design_state: "[[Statuses/Finished]]"
---
# 5.02 - Plan Builder (Setup)

> **Navigation:**
> - FROM: Plan Library (5.01) → "Create New Plan"
> - FROM: Plan Library (5.01) → Edit existing plan (edit mode)
> - TO: Plan Builder Days (5.03) (on "Continue")
>
> **Belongs to:** [[features/5-workout-plan]]

## 1. Visual Preview

> [!TIP]
> **Plan Builder Setup Screen**
> ```
> ┌─────────────────────────────────────────────────────────────┐
> │  [←]                                              Step 1/2  │
> ├─────────────────────────────────────────────────────────────┤
> │                                                             │
> │                      [icon: edit_note]                      │
> │                                                             │
> │                   Let's name your plan                      │
> │                                                             │
> │            A good name keeps you motivated.                 │
> │              You can always change it later.                │
> │                                                             │
> │  ─────────────────────────────────────────────────────────  │
> │                                                             │
> │  Plan Name *                                                │
> │  ┌─────────────────────────────────────────────────────┐   │
> │  │  e.g., Push/Pull/Legs                           [x] │   │
> │  └─────────────────────────────────────────────────────┘   │
> │                                                    0/30     │
> │                                                             │
> │  Description (optional)                                     │
> │  ┌─────────────────────────────────────────────────────┐   │
> │  │                                                     │   │
> │  │  e.g., 3-day split for building strength            │   │
> │  │                                                     │   │
> │  └─────────────────────────────────────────────────────┘   │
> │                                                             │
> │                                                             │
> │                                                             │
> │  ┌─────────────────────────────────────────────────────┐   │
> │  │                    Continue                          │   │
> │  └─────────────────────────────────────────────────────┘   │
> │                                                             │
> └─────────────────────────────────────────────────────────────┘
> ```

## 2. Human-Readable Summary

**User Behavior**

The user enters the name and description of their new workout plan. This is the first step ("warm-up") in the manual creation process — quick, simple, and encouraging. The user gives their plan a memorable name, optionally adds a description, then continues to build their days.

**Key Cases**
*   **Create New Plan**: User starts from scratch with empty fields.
*   **Edit Existing Plan**: User edits name/description of existing plan (fields pre-filled).
*   **Validation**: Name is required (1-30 characters). Description is optional.

**Data Displayed**
*   **Hero Section**: Icon + encouraging title + subtitle.
*   **Plan Name Field**: Required, with character counter (0/30).
*   **Description Field**: Optional, multiline textarea.
*   **Step Indicator**: "Step 1/2" shows progress in plan creation flow.

**Interaction & Motion**
Light, encouraging feel — this is a "warm-up" screen. Entry animations are staggered to guide the eye. Form fields have smooth focus states. Continue button enables with satisfying animation when name is entered. All interactions have appropriate haptic feedback.

---

## 3. Detailed Designer Specification

### <plan_builder_setup_screen_dark>

**Design Version**: v1.1 (2025-01-XX)
**Default Theme**: Dark Mode (per Brand DNA "Dark Mode is Hero")
**Font Family**: Montserrat (all text)

---

#### Top Bar

**Configuration**: Back + Step Indicator

**Container:**
- Background: #2D3142 (DarkNavy)
- Height: 56dp
- Padding horizontal: 16dp
- Shadow: None (clean, minimal)

**Back Arrow (Left):**
- Icon: Material Symbol `arrow_back` (Rounded, weight 500)
- Size: 24dp
- Color: #FFFFFF
- Touch target: 48dp × 48dp
- Tap: Navigate back to Plan Library (with discard confirmation if changes made)
- Haptic: Light impact

**Step Indicator (Right):**
- Text: "Step 1/2"
- Font: 14sp / Medium
- Color: #B8BCC8
- Position: Right-aligned, vertically centered

---

#### Hero Section

**Container:**
- Background: Transparent
- Padding: 32dp top, 24dp horizontal, 24dp bottom
- Alignment: Center

**Icon:**
- Icon: Material Symbol `edit_note` (Rounded, weight 400)
- Size: 80dp
- Color: #A8E6CF (LimeGreenDark)
- Animation: Entry scale 0.5 → 1.2 → 1.0 (spring damping 0.5, 600ms) + Idle subtle sway (rotate ±3°, 3s loop)
- Glow: Radial gradient #A8E6CF → transparent (40dp radius, 30% opacity)
- Margin bottom: 16dp

**Title:**
- Text: "Let's name your plan"
- Font: 28sp / Bold (Montserrat Bold)
- Color: #FFFFFF
- Text align: Center
- Margin bottom: 8dp

**Subtitle:**
- Text: "A good name keeps you motivated.\nYou can always change it later."
- Font: 15sp / Regular (Montserrat Regular)
- Color: #D4D0E8 (LavenderMedium — Guidance/Intelligence)
- Text align: Center
- Line height: 1.5
- Max width: 288dp

---

#### Form Section

**Spacing from Hero:** 16dp (natural gap, no divider needed)

**Container:**
- Background: Transparent
- Padding: 0dp 16dp 16dp 16dp

---

#### Plan Name Field

**Container:**
- Margin bottom: 24dp

**Label:**
- Text: "Plan Name *"
- Font: 14sp / Medium
- Color: #FFFFFF
- Margin bottom: 8dp

**Input Field:**

*Default State:*
- Background: #3A3F52
- Border: 2dp solid transparent
- Border radius: 12dp
- Height: 56dp
- Padding horizontal: 16dp

*Text:*
- Font: 16sp / Medium
- Color: #FFFFFF
- Placeholder: "e.g., Push/Pull/Legs"
- Placeholder color: #666666

*Clear Button (Right — when text exists):*
- Icon: Material Symbol `close` (Rounded, weight 500)
- Size: 20dp
- Color: #666666
- Touch target: 48dp × 48dp
- Animation: Fade in (opacity 0 → 1, 150ms) when text entered
- Tap: Clears text, haptic light impact

*Focus State:*
- Border: 2dp solid #A8E6CF
- Background: #3A3F52 (no change)
- Animation: Border fades in (150ms)

*Error State (if name cleared after entry):*
- Border: 2dp solid #FF9999 (CoralPink)
- Label color: #FF9999 (CoralPink)
- Helper text appears: "Plan name is required"

**Character Counter:**
- Text: "[count]/30"
- Font: 12sp / Regular (Montserrat Regular)
- Color: #666666 (default)
- Color: #FF9999 (CoralPink — warning, 25-29 chars)
- Color: #FF9999 (CoralPink — at 30 chars, can't type more)
- Position: Below input, right-aligned
- Margin top: 4dp

---

#### Description Field

**Container:**
- Margin bottom: 24dp

**Label:**
- Text: "Description (optional)"
- Font: 14sp / Medium
- Color: #FFFFFF
- Margin bottom: 8dp

**Textarea:**

*Default State:*
- Background: #3A3F52
- Border: 2dp solid transparent
- Border radius: 12dp
- Height: 128dp (min height, expands with content)
- Max height: 192dp (then scrolls internally)
- Padding: 16dp

*Text:*
- Font: 16sp / Regular
- Color: #FFFFFF
- Placeholder: "e.g., 3-day split for building strength"
- Placeholder color: #666666
- Line height: 1.4

*Focus State:*
- Border: 2dp solid #A8E6CF
- Background: #3A3F52 (no change)
- Animation: Border fades in (150ms)

**Character Limit:**
- Max: 200 characters (soft limit, no hard block)
- Counter only appears when > 150 chars
- Text: "[count]/200"
- Color: #666666 (default), #FF9999 (CoralPink — warning 180+)

---

#### Continue Button

**Container:**
- Position: Fixed at bottom (above safe area)
- Background: #2D3142 (matches screen)
- Padding: 16dp horizontal
- Padding bottom: 16dp + safe area inset
- Border top: 1dp solid #3A3F52

**Button (Enabled):**
- Background: #A8E6CF (LimeGreenDark — Primary Action)
- Border radius: 12dp
- Height: 56dp
- Width: Full width
- Shadow: Elevation 4dp
- Glow: 0dp 0dp 20dp #A8E6CF at 35% opacity

*Text:*
- Text: "Continue"
- Font: 18sp / Bold
- Color: #1A1A1A
- Alignment: Center

*Pressed State:*
- Background: #8BD6AF (~10% darker)
- Scale: 0.98
- Shadow: Elevation 2dp
- Glow opacity: 50%

*Tap Behavior:*
1. Validate name (min 1 char)
2. If valid: Navigate to Plan Builder Days (5.03)
3. Pass data: { name, description }
4. Haptic: Medium impact

**Button (Disabled):**
- Background: #4A4F62
- Text color: #666666
- Glow: None
- Shadow: None
- Non-tappable

**Disabled Condition:**
- Plan name is empty (0 characters)

**Enable Animation (Name Entered):**
- Background: #4A4F62 → #A8E6CF (400ms, easeOutQuart)
- Glow: 0% → 50% → 35% opacity (600ms, easeInOutSine)
- Scale: 1.0 → 1.06 → 1.0 (500ms, spring damping 0.6)
- Text color: #666666 → #1A1A1A (400ms)
- Haptic: Medium impact when enabled

---

#### Entry Animation (Staggered)

**Timeline:**

| Delay | Element | Animation |
|-------|---------|-----------|
| 0ms | Screen | Fade in (opacity 0 → 1, 200ms) |
| 100ms | Icon | Scale 0.5 → 1.2 → 1.0 + rotate -5° → 0° + fade in (600ms, spring damping 0.5) |
| 250ms | Title | TranslateY +20dp → 0 + fade in (400ms, easeOutQuart) |
| 400ms | Subtitle | TranslateY +20dp → 0 + fade in (400ms, easeOutQuart) |
| 550ms | Name Field | TranslateY +16dp → 0 + fade in (300ms, easeOutQuart) |
| 700ms | Description Field | TranslateY +16dp → 0 + fade in (300ms, easeOutQuart) |
| 850ms | Continue Button | TranslateY +24dp → 0 + fade in (300ms, easeOutQuart) |

**Total Duration:** ~1150ms

**Keyboard Behavior:**
- Auto-focus name field after entry animation completes (700ms delay)
- Keyboard slides up with content push (screen scrolls if needed)

---

#### Edit Mode (Existing Plan)

**Trigger:** User taps "Edit" on existing plan in Plan Library

**Differences:**
- Title: "Edit your plan" (instead of "Let's name your plan")
- Subtitle: "Update the name or description anytime."
- Fields: Pre-filled with existing data
- Button: "Save Changes" (instead of "Continue")
- Button tap: Saves and returns to Plan Library (not Days screen)

**Top Bar (Edit Mode):**
- Step indicator hidden (not part of creation flow)
- Title: "Edit Plan" (center)

---

### </plan_builder_setup_screen_dark>

---

### <light_mode_colors>

**Color Palette Changes (vs Dark Mode):**

| Element | Dark Mode | Light Mode |
|---------|-----------|------------|
| **Screen Background** | #2D3142 | #F3F3F8 |
| **Top Bar Background** | #2D3142 | #FFFFFF |
| **Input Background** | #3A3F52 | #FFFFFF |
| **Input Border (Default)** | transparent | #E5E5E5 |
| **Input Border (Focus)** | #A8E6CF | #A8E6CF |
| **Text Primary** | #FFFFFF | #1A1A1A |
| **Text Secondary** | #B8BCC8 | #666666 |
| **Placeholder** | #666666 | #999999 |
| **Divider** | #3A3F52 | #E5E5E5 |
| **Icon Color** | #A8E6CF | #A8E6CF |
| **Button (Enabled)** | #A8E6CF | #A8E6CF |
| **Button Text** | #1A1A1A | #1A1A1A |
| **Button (Disabled) Bg** | #4A4F62 | #E5E5E5 |
| **Button (Disabled) Text** | #666666 | #999999 |

**Visual Adjustments:**
- Shadows: Reduce opacity by 50%
- Glows: Reduce opacity by 30%
- Input fields: Add 1dp border in default state for definition
- All other specs (spacing, sizing, animations): **Identical to dark mode**

---

### </light_mode_colors>

---

## 4. Notes

### Design Philosophy

**"Warm-Up" Screen:**
- This is the first step — keep it light and fast
- Encouraging copy reduces "blank page anxiety"
- "You can always change it later" removes pressure
- Quick entry animation guides the eye and feels polished

**Progressive Disclosure:**
- Only two fields (name + description)
- More complex settings (days, exercises) come in Step 2
- Reduces cognitive load at the start

**Immediate Feedback:**
- Character counter provides real-time feedback
- Button enables with satisfying animation
- Focus states clearly indicate active field

### Brand DNA Compliance

- **"Soft Tech / Calm Focus"**: Gentle animations, encouraging copy, no pressure
- **"Zero Friction"**: Only required field is name, description is optional
- **"Digital Coach"**: "A good name keeps you motivated" — coaching language
- **"Optimistic UI"**: Instant feedback, button enables immediately when valid

### Spacing System (8dp Grid)

**Valid Values:** 8, 16, 24, 32, 40, 48, 56, 64dp
**Used in this spec:**
- Top bar height: 56dp
- Hero padding: 32dp top, 24dp sides/bottom
- Divider margin: 24dp
- Form padding: 16dp
- Field margins: 24dp bottom
- Button padding: 16dp
- Input height: 56dp
- Input padding: 16dp
- Textarea min height: 128dp

### User Flows

**Flow 1: Create New Plan**
```
Plan Library (5.01)
  ↓ Tap "Create New Plan"
Plan Builder Setup (5.02)
  ↓ Entry animation plays
  ↓ Name field auto-focused
  ↓ User types "Push/Pull/Legs"
  ↓ Continue button enables (with bounce)
  ↓ User taps "Continue"
Plan Builder Days (5.03)
  ↓ Plan name passed to header
```

**Flow 2: Edit Existing Plan**
```
Plan Library (5.01)
  ↓ Tap [⋮] on existing plan → "Edit"
Plan Builder Setup (5.02, edit mode)
  ↓ Fields pre-filled
  ↓ User changes name
  ↓ Tap "Save Changes"
Plan Library (5.01)
  ↓ Plan updated
```

**Flow 3: Cancel/Back**
```
Plan Builder Setup (5.02)
  ↓ User taps back arrow
  ↓ (If changes made) Discard confirmation dialog
  ↓ "Discard" → Plan Library
  ↓ "Keep Editing" → Stay on screen
```

### Accessibility Features

**WCAG AA Compliance:**
- All text contrast ≥ 4.5:1
- Input labels clearly associated
- Error states announced to screen readers
- Touch targets ≥ 48dp

**Screen Reader Support:**
- Step indicator: "Step 1 of 2"
- Name field: "Plan Name, required, text field, [current value]"
- Description field: "Description, optional, text field"
- Character counter: "[count] of 30 characters"
- Continue button: "Continue, button, [disabled/enabled]"

**Keyboard Navigation:**
- Tab order: Name → Description → Continue
- Enter on Name field → Focus Description
- Enter on Description → Submit form (if valid)

**Reduce Motion Support:**
- If enabled: All elements appear immediately (no stagger)
- Icon: Static (no pulse)
- Button enable: Color change only (no bounce)

### Developer Integration Notes

**State Management:**

*Plan Setup State:*
- Mode: "create" or "edit"
- Plan ID: Only for edit mode (existing plan reference)
- Name: User-entered plan name
- Description: Optional description text
- Has Unsaved Changes: Flag for discard confirmation logic

**Validation Logic:**
- Name must be at least 1 character (after trimming whitespace)
- Name cannot exceed 30 characters
- Description is optional (no validation)

**Navigation Data (to Days screen):**
- On Continue tap, navigate to Plan Builder Days (5.03)
- Pass: Plan name, description, and mode ("create" or "edit")
- Days screen receives this data to display header and save plan

**Haptic Feedback Map:**
- Back button: Light impact
- Clear button (name): Light impact
- Field focus: None (silent)
- Button enable: Light impact
- Continue tap: Medium impact

### Edge Cases Handled

1. **Empty name on Continue**: Button disabled (can't tap)
2. **Name at max length**: Counter turns red, can't type more
3. **Very long description**: Textarea scrolls internally
4. **Back with changes**: Discard confirmation dialog
5. **Keyboard covers button**: Content scrolls up
6. **Edit mode with no changes**: "Save Changes" still works (no-op save)
7. **Special characters in name**: Allowed (emoji, symbols)
8. **Whitespace-only name**: Trim and validate (treated as empty)

### Discard Changes Dialog

**Trigger:** Back navigation with unsaved changes

**Dialog Structure:** (Same as 5.03 spec)

**Title:**
- Text: "Discard changes?"

**Message:**
- Text: "You haven't saved your plan yet."

**Buttons:**

*Keep Editing Button:*
- Text: "Keep Editing"
- Background: Transparent
- Text color: #B8BCC8

*Discard Button:*
- Text: "Discard"
- Background: #FF9999 (CoralPink)
- Text color: #1A1A1A

---

### Future Enhancements (Post-MVP)

- [ ] Plan templates (pre-built "Push/Pull/Legs", "Upper/Lower", etc.)
- [ ] Plan cover image/color picker
- [ ] Tags for categorization
- [ ] Import from previous plan
- [ ] Estimated duration calculator (based on exercises)
- [ ] AI-suggested plan names based on goals

---

### Revision History

- **2025-01-XX (v1.0):** Initial specification
  - Hero section with encouraging copy
  - Name field (required, 30 char max)
  - Description field (optional, multiline)
  - Step 1/2 indicator
  - Staggered entry animation
  - Edit mode variant
  - Dark mode first design
  - Full accessibility support
  - Ready for development

---

**End of Specification**

**Status:** **COMPLETE — Ready for Development**
