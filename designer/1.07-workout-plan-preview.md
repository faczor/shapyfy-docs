---
tags:
  - mobile
screen: Workout Preview
agent: "[[designer]]"
feature: "[[features/1-onboarding]]"
design_state: "[[Statuses/Finished]]"
---
# 1.07 - Workout Plan Preview

> **Navigation:** [1.06 Recommendations](1.06-recommendations.md) → Plan Preview → [1.08 Dashboard](1.08-dashboard-draft-banner.md) OR Active Workout
> **Belongs to:** [1 - Onboarding](../features/1-onboarding.md) - Path A (Guided)

## 1. Visual Preview
> [!TIP]
> *[Insert Screen Mockup Here]*
> *For now, we can use a placeholder or a Mermaid diagram if applicable.*

## 2. Human-Readable Summary
**User Behavior**
The user views the details of a specific workout plan they selected. They can see the full schedule, including what exercises are in each day. They can expand any day to view exercises, and tap the expanded day to see detailed workout preview. They can then activate the plan or customize it before activation.

**Key Cases**
*   **Viewing Schedule**: Users can expand each day to see the list of exercises.
*   **Day Detail Navigation**: Tapping an expanded day navigates to Workout Preview (5.05) for that specific day.
*   **Activating**: Tapping "Activate Plan" saves the plan as ACTIVE and navigates to Dashboard.
*   **Customizing**: Tapping "Customize First" enters Edit Mode to modify exercises before activation.

**Data Displayed**
*   **Program Info**: Name, description, total duration, total exercises.
*   **Daily Schedule**: List of days (e.g., Day 1: Upper Body), exercise counts, and detailed exercise lists when expanded.

## 3. Detailed Designer Specification
### <workout_plan_preview_multiday>

**Design Version**: v3 (2025-11-18) - Reviewed and approved after 2 rounds of UI critique

#### Top Bar
- Background: #FFFFFF (LightSurface)
- Height: 56dp
- Shadow: Elevation 2dp
- Padding left: 16dp

**Back Arrow (Left)**
- Icon: Left arrow
- Color: #000000 (TextOnLight)
- Size: 24dp
- Touch target: 48dp x 48dp
- Tap behavior: Returns to Workout Plan Recommendation list

**Title (Center)**
- Text: Dynamic - plan name (e.g., "Upper/Lower Split")
- Font size: 18sp / Bold
- Color: #000000 (TextOnLight)
- Truncation: Ellipsis if > 20 characters

#### Content Area
- Background: #F3F3F8 (LightBackground)
- Padding horizontal: 16dp
- Padding top: 16dp
- Padding bottom: 96dp (space for fixed buttons)
- Scrollable: Vertical

#### Program Overview Card
- Background: #FFFFFF (LightSurface)
- Border radius: 12dp
- Padding: 16dp
- Margin bottom: 16dp
- Shadow: Elevation 1dp

**Program Name**
- Text: "Upper/Lower Split" (from API)
- Font size: 22sp / Bold
- Color: #000000 (TextOnLight)
- Margin bottom: 8dp

**Description**
- Text: "Train upper and lower body on alternating days. Perfect for balanced strength development."
- Font size: 14sp / Regular
- Color: #666666 (TextOnLightTertiary)
- Line height: 20sp
- Margin bottom: 12dp

**Metadata Row**
- Layout: Horizontal
- Border top: 1dp solid #E5E5E5 (LightGray)
- Padding top: 12dp
- Gap between items: 16dp

**Item 1 - Duration:**
- Icon: Calendar (16dp, #666666)
- Icon margin right: 6dp
- Text: "4-day program"
- Font size: 13sp / Regular
- Color: #2D2D2D (TextOnLightSecondary)

**Item 2 - Exercises:**
- Icon: Dumbbell (16dp, #666666)
- Icon margin right: 6dp
- Text: "20 exercises total"
- Font size: 13sp / Regular
- Color: #2D2D2D (TextOnLightSecondary)

#### Days Section Header
- Text: "Program Days"
- Font size: 16sp / Bold
- Color: #000000 (TextOnLight)
- Margin top: 8dp
- Margin bottom: 12dp

#### Day Cards (Collapsed State - Default)

**Card Container**
- Background: #FFFFFF (LightSurface)
- Border radius: 12dp
- Padding: 16dp
- Margin bottom: 12dp
- Shadow: Elevation 1dp
- Touch target: Full card area (minimum 56dp height)

**Day Header Row**
- Layout: Horizontal, space-between

**Left side:**
- Text: "Day 1: Upper Body"
- Font size: 16sp / Bold
- Color: #000000 (TextOnLight)

**Right side:**
- Layout: Horizontal, 8dp gap

**Exercise Count:**
- Text: "5 exercises"
- Font size: 13sp / Regular
- Color: #666666 (TextOnLightTertiary)

**Chevron Icon:**
- Icon: Chevron down
- Size: 20dp
- Color: #666666 (TextOnLightTertiary)

**Exercise Preview**
- Position: Below header
- Margin top: 8dp
- Text: "Bench Press, Bent-Over Row, Overhead Press..."
- Font size: 13sp / Regular
- Color: #666666 (TextOnLightTertiary)
- Truncation: Single line with ellipsis

**Pressed State**
- Background: #F9F9F9 (subtle gray)
- Duration: 100ms

**Tap Behavior**
- Haptic: Light impact
- Expand card to show full exercise list
- Animation: 200ms, FastOutSlowInEasing

</workout_plan_preview_multiday>

### <workout_plan_preview_day_expanded>

**Context**: User tapped on "Day 1: Upper Body" card to expand it and see the full exercise list for that day. Multiple cards can be expanded simultaneously.

#### Day Card - Expanded State

**Card Container**
- Background: #FFFFFF (LightSurface)
- Border radius: 12dp
- Padding: 16dp
- Margin bottom: 12dp
- Shadow: Elevation 1dp (same as collapsed)

**Day Header Row**
- Layout: Horizontal, space-between

**Left side:**
- Text: "Day 1: Upper Body"
- Font size: 16sp / Bold
- Color: #000000 (TextOnLight)

**Right side:**
- Layout: Horizontal, 8dp gap

**Exercise Count:**
- Text: "5 exercises"
- Font size: 13sp / Regular
- Color: #666666 (TextOnLightTertiary)

**Chevron Icon:**
- Icon: Chevron up (rotated 180°)
- Size: 20dp
- Color: #666666 (TextOnLightTertiary)

**Divider**
- Border: 1dp solid #E5E5E5 (LightGray)
- Margin top: 12dp
- Margin bottom: 12dp

**Exercise List Container**
- Background: Transparent
- Padding: 0
- Layout: Vertical stack

**Entire Exercise List is Tappable:**
- Touch target: Full width of exercise list area
- Visual indicator: Subtle "→" icon at bottom-right of list
- Tap behavior: Navigate to Workout Preview (5.05) for this specific day

**Individual Exercise Items (Read-Only):**

Each exercise item:
- Layout: Horizontal
- Padding vertical: 14dp
- Border bottom: 1dp solid #E5E5E5 (LightGray)
- Last item: No border
- NOT individually tappable (entire list acts as one tap target)

**Exercise Number (Left)**
- Text: "1", "2", "3", etc.
- Font size: 14sp / Bold
- Color: #A8E6CF (LimeGreenDark)
- Width: 24dp
- Alignment: Center vertical with first line of text

**Exercise Info (Right)**

**Line 1: Exercise Name**
- Text: "Bench Press"
- Font size: 14sp / Medium
- Color: #000000 (TextOnLight)

**Line 2: Category + Sets**
- Layout: Horizontal
- Margin top: 4dp

**Category:**
- Text: "Chest"
- Font size: 13sp / Regular
- Color: #666666 (TextOnLightTertiary)

**Separator:**
- Text: "·"
- Margin horizontal: 6dp
- Color: #999999

**Sets Info:**
- Text: "3 sets × 8-12 reps"
- Font size: 13sp / Regular
- Color: #666666 (TextOnLightTertiary)

**View Detail Indicator (Bottom-Right)**
- Position: Below last exercise, aligned right
- Layout: Horizontal, 4dp gap
- Padding: 12dp (touch-friendly)
- Margin top: 8dp

**Text:**
- Text: "View workout detail"
- Font size: 13sp / Medium
- Color: #A8E6CF (LimeGreenDark - indicates tappable action)

**Icon:**
- Icon: Chevron right (Material Symbol Rounded)
- Size: 18dp
- Color: #A8E6CF (LimeGreenDark)

**Pressed State (Entire Exercise List)**
- Background: #F9F9F9 (subtle gray overlay on entire list area)
- Duration: 100ms

**Tap Behavior (Exercise List Area)**
- Haptic: Light impact
- Navigate to: Workout Preview screen (5.05)
- Pass data: Day number, day name, exercise list
- Animation: Slide left transition (200ms)
- Note: Tapping the day header (top area) still collapses the card

**Tap Behavior (Day Header - Collapse)**
- Haptic: Light impact
- Collapse card
- Animation: 200ms, FastOutSlowInEasing

</workout_plan_preview_day_expanded>

#### Fixed Bottom Action Bar
- Position: Fixed at bottom of screen
- Background: #FFFFFF (LightSurface)
- Shadow: Elevation 8dp (upward shadow)
- Padding: 16dp all sides
- Safe area: Above system navigation

**Primary Button - "Activate Plan"**
- Background: #2D7A5F (Functional Primary - from shared/branding.md)
- Text: "Activate Plan"
- Text color: #FFFFFF (white)
- Font size: 18sp / Bold
- Padding vertical: 16dp
- Border radius: 12dp
- Width: Full width
- Shadow: None
- Margin bottom: 12dp

**Pressed State:**
- Scale: 0.98
- Background: #257055 (darker shade, ~10% darker)
- Duration: 100ms

**Tap Behavior:**
- Haptic: Medium impact
- Save plan to library with status = ACTIVE
- Set as user's active plan (only one active plan allowed)
- Navigate to Dashboard (3.01)
- Dashboard will show "Start Day 1: [Day Name]" button
- No confirmation dialog (zero friction)

**Secondary Button - "Customize First"**
- Background: Transparent
- Border: 1.5dp solid #E5E5E5 (Border from branding)
- Text: "Customize First"
- Text color: #1A1A1A (Text Primary)
- Font size: 16sp / Medium
- Padding vertical: 16dp
- Border radius: 12dp
- Width: Full width

**Pressed State:**
- Background: #F9F9F9 (subtle fill)
- Duration: 100ms

**Tap Behavior:**
- Haptic: Light impact
- Enter Edit Mode (see <workout_plan_preview_edit_mode> section below)
- Screen transitions to edit interface
- User can add/remove/replace exercises
- User can edit targets (sets/reps/weight)

### <workout_plan_preview_edit_mode>

**Context:** User tapped "Customize First" button. The Plan Preview enters Edit Mode, allowing modifications to exercises before activating the plan.

**Design Version**: v1.0 (2025-01-XX) - Brand DNA Compliant

#### Edit Mode Transition (Entry Animation)

**Phase 1: Top Bar Change (0-150ms)**
- Checkmark icon (✓) fades in at top-right
- Icon: Material Symbol `check` (Rounded, weight 500)
- Size: 20dp
- Color: #2D7A5F (Functional Primary - indicates "save when done")
- Position: Absolute right, margin-right 16dp, center vertical
- Animation: Opacity 0 → 1, Duration 150ms

**Phase 2: Info Banner Slide In (150-300ms)**
- Banner slides down from top: Y=-60dp → Y=0
- Duration: 150ms
- Easing: FastOutSlowInEasing
- Starts when checkmark fade completes

**Phase 3: Day Cards Transform (150-300ms, parallel with banner)**
- [+] and [⋮] icons fade in on all expanded day cards
- Duration: 150ms
- Runs parallel with info banner slide

**Phase 4: Bottom Action Bar Morph (200-300ms)**
- "Activate Plan" fades out: Opacity 1 → 0, Duration 100ms
- "Customize First" morphs to "Save Changes":
  - Text changes
  - Background: Transparent → #2D7A5F
  - Text color: #1A1A1A → #FFFFFF
  - Border disappears
  - Duration: 100ms

**Total transition duration**: 300ms

#### Info Banner (Edit Mode Indicator)

**Container:**
- Position: Below top bar, above content
- Background: #FFF4E5 (warm amber, softer than warning)
- Border bottom: 1dp solid #FFE4B3 (slightly darker amber)
- Padding: 12dp vertical, 16dp horizontal
- Width: Full width
- Z-index: Above scrollable content

**Icon:**
- Icon: Material Symbol `edit` (Rounded, weight 500)
- Size: 18dp
- Color: #D97706 (amber-700, accessible on light amber)
- Margin right: 8dp
- Vertical alignment: Center with first line of text

**Text:**
- Text: "Editing mode - Tap exercises to replace, remove, or edit targets"
- Font size: 13sp / Regular
- Color: #92400E (amber-900, high contrast)
- Line height: 18sp
- Max lines: 2 (wraps on small screens)

**Why amber background:**
- Not error (not red/coral)
- Not success (not green)
- "Info mode" - signals temporary state
- Follows "Calm Focus" (not aggressive)

#### Day Card in Edit Mode (Expanded)

**Day Header (Unchanged):**
- Same as collapsed/expanded mode
- Still tappable to collapse

**[+] Add Exercise Button:**
- Position: Right side of day header, before chevron
- Icon: Material Symbol `add_circle` (Rounded, weight 500)
- Size: 24dp
- Color: #2D7A5F (Functional Primary)
- Touch target: 40dp diameter (circular)
- Margin right: 8dp

**Tap Behavior:**
- Haptic: Light impact
- Navigate to: Exercise Picker (2.01) in "Add to Day" mode
- After selection: Navigate to Target Config (5.04) to set targets
- After saving: Return to Plan Preview Edit Mode, exercise appended to list

**Exercise Row Changes:**

Each exercise row now shows [⋮] menu icon:

**[⋮] Menu Button:**
- Position: Right side of exercise row
- Icon: Material Symbol `more_vert` (three vertical dots, Rounded, weight 500)
- Size: 24dp
- Color: #666666 (Text Secondary - subtle until tapped)
- Touch target: 40dp diameter (circular)
- Margin left: Auto (pushed to right)

**Tap Behavior:**
- Haptic: Light impact
- Opens: Exercise Action Menu (bottom sheet)
- Options: Replace Exercise / Edit Targets / Remove from Day

**Visual Changes:**
- "View workout detail" indicator is hidden in Edit Mode
- Exercise rows remain individually non-tappable (only [⋮] is tappable)

#### Exercise Action Menu (Bottom Sheet)

**Trigger:** User taps [⋮] on an exercise in Edit Mode

**Container:**
- Background: #FFFFFF
- Border radius: 24dp (top corners only)
- Shadow: Elevation 16dp (strong shadow)
- Padding: 0 (items have their own padding)
- Width: Full screen width
- Animation: Slide up from bottom, 250ms, FastOutSlowInEasing

**Handle (Drag Indicator):**
- Background: #CCCCCC
- Width: 40dp
- Height: 4dp
- Border radius: 2dp
- Margin: 12dp auto (centered, top spacing)

**Exercise Name Header:**
- Text: "[Exercise Name]" (e.g., "Bench Press")
- Font: 18sp / Bold
- Color: #1A1A1A
- Padding: 16dp horizontal, 12dp vertical
- Border bottom: 1dp solid #E5E5E5

**Action Items:**

*1. Replace Exercise:*
- Icon: Material Symbol `swap_horiz` (Rounded, weight 500, 20dp)
- Icon color: #2D7A5F
- Text: "Replace Exercise"
- Font: 16sp / Medium
- Text color: #1A1A1A
- Padding: 16dp vertical, 20dp horizontal
- Touch target: Full width, minimum 56dp height
- Pressed state: Background #F9F9F9
- Tap: Navigate to Exercise Picker (2.01) in "Replace Mode"

*2. Edit Targets:*
- Icon: Material Symbol `tune` (Rounded, weight 500, 20dp)
- Icon color: #666666
- Text: "Edit Targets ([Current])" (e.g., "Edit Targets (3×10)")
- Font: 16sp / Medium
- Text color: #1A1A1A
- Padding: Same as above
- Tap: Navigate to Target Config (5.04)

*3. Remove from Day:*
- Icon: Material Symbol `delete_outline` (Rounded, weight 500, 20dp)
- Icon color: #FF6B6B (Error Accent - destructive)
- Text: "Remove from Day"
- Font: 16sp / Medium
- Text color: #FF6B6B
- Padding: Same as above
- Tap: Show confirmation dialog (see below)

**Divider:**
- Border: 1dp solid #E5E5E5
- Margin: 8dp vertical

**Cancel Button:**
- Text: "Cancel"
- Font: 16sp / Medium
- Color: #666666
- Padding: 16dp vertical
- Background: Transparent
- Pressed: Background #F9F9F9
- Tap: Close bottom sheet

#### Remove Exercise Confirmation Dialog

**Trigger:** User taps "Remove from Day" in Action Menu

**Container:**
- Background: #FFFFFF
- Border radius: 16dp
- Shadow: Elevation 24dp
- Padding: 24dp
- Width: 320dp (centered on screen)
- Animation: Fade in + scale (0.9 → 1.0), 200ms

**Title:**
- Text: "Remove [Exercise Name]?"
- Font: 20sp / Bold
- Color: #1A1A1A
- Margin bottom: 12dp

**Description:**
- Text: "This will remove it from [Day Name]. You can add it back later."
- Font: 14sp / Regular
- Color: #666666
- Line height: 20sp
- Margin bottom: 24dp

**Action Buttons (Horizontal):**

*Cancel (Left):*
- Background: Transparent
- Border: 1.5dp solid #E5E5E5
- Text: "Cancel"
- Text color: #1A1A1A
- Font: 16sp / Medium
- Padding: 12dp vertical, 24dp horizontal
- Border radius: 12dp
- Flex: 1
- Margin right: 12dp

*Remove (Right):*
- Background: #FF6B6B (Error Accent)
- Text: "Remove"
- Text color: #FFFFFF
- Font: 16sp / Bold
- Padding: 12dp vertical, 24dp horizontal
- Border radius: 12dp
- Flex: 1
- Haptic: Medium impact (destructive action)

**Behaviors:**
- Cancel → Dialog fades out, no changes
- Remove → Exercise deleted, dialog + bottom sheet close, returns to Edit Mode

#### Save Changes & Exit Edit Mode

**Trigger:** User taps "Save Changes" button (bottom bar)

**Animation Sequence (Reverse of Entry):**

**Phase 1: Bottom Bar Morph (0-100ms)**
- "Save Changes" morphs back to "Customize First" position
- "Activate Plan" fades in above it

**Phase 2: Day Cards Simplify (100-200ms)**
- [+] and [⋮] icons fade out
- "View workout detail" indicators fade back in

**Phase 3: Info Banner Slide Out (100-250ms)**
- Slides up: Y=0 → Y=-60dp
- Opacity: 1 → 0

**Phase 4: Top Bar Checkmark Fade Out (200-300ms)**
- Checkmark (✓) fades out
- Leaves clean top bar

**Data Persistence:**
- All changes immediately saved to plan object
- Plan is still in "recommendation" state (not yet activated)
- User can tap "Activate Plan" to save to library

#### Cancel/Discard Changes Flow

**Trigger:** User taps [< Back] while in Edit Mode

**Confirmation Dialog:**

**Container:** Same styling as Remove Confirmation

**Title:** "Discard Changes?"

**Description:** "You have unsaved edits to this plan. Changes will be lost if you go back."

**Buttons:**
- Left: "Discard" (Text color #FF6B6B, transparent background)
- Right: "Keep Editing" (Background #2D7A5F, text #FFFFFF)

**Behaviors:**
- Discard → Exit Edit Mode, revert to original plan, return to Preview Mode
- Keep Editing → Dialog closes, stays in Edit Mode

</workout_plan_preview_edit_mode>

## 4. Notes

*   **Design Philosophy**:
    *   **Preview Mode**: Detailed but scannable. Collapsed state gives overview, expanded state gives detail. Users can explore the plan before committing.
    *   **Edit Mode**: Focused customization. Users can add/remove/replace exercises and configure targets before activation. Follows "Calm Focus" (amber banner, not aggressive).
    *   **Navigation**: Tappable expanded days allow users to see detailed workout view (5.05) for any day in the plan.

*   **Brand DNA Alignment**:
    *   **"Soft Tech / Calm Focus"**: Amber edit banner (not aggressive red), simple transitions (no hype).
    *   **"Zero Friction"**: "Activate Plan" saves and navigates directly to Dashboard (no confirmation).
    *   **"Optimistic UI"**: Edit changes save immediately (no loading states).
    *   **Primary Color**: Changed from #A8E6CF to #2D7A5F (Functional Primary from branding.md) for "Activate Plan" button.

*   **User Flows**:
    *   **Flow 1 (Direct Activation)**: Recommendations → Plan Preview → [Activate Plan] → Dashboard
    *   **Flow 2 (Customization)**: Recommendations → Plan Preview → [Customize First] → Edit Mode → [Save Changes] → [Activate Plan] → Dashboard
    *   **Flow 3 (Day Detail)**: Plan Preview → Expand Day → Tap "View workout detail" → Workout Preview (5.05)

*   **Accessibility Features**:
    *   **Contrast**: All text meets WCAG AA minimum (4.5:1). Edit mode amber banner: #92400E on #FFF4E5 = 8.2:1 (AAA).
    *   **Touch Targets**: All interactive elements ≥ 48dp (buttons, icons, chevrons).
    *   **Screen Reader**: Clear hierarchy and state announcements (collapsed/expanded/edit mode).
    *   **Reduce Motion**: All animations disabled if system setting enabled.

*   **Developer Notes**:
    *   **Data Structure**: `WorkoutPlan` contains list of `WorkoutDay`. Each `WorkoutDay` contains list of `PlannedExercise`.
    *   **Animation**: Use `AnimatedVisibility` for expand/collapse, Edit Mode transitions.
    *   **Edit State Management**: Track modified plan in memory until "Save Changes" or "Discard" is triggered.
    *   **Navigation Integration**:
        - Exercise Picker (2.01) must support "Add to Day" and "Replace" modes
        - Target Config (5.04) must accept exercise reference and return configured targets
        - Workout Preview (5.05) must accept day data from Plan Preview
    *   **Persistence**: "Activate Plan" saves to DB with status = ACTIVE, sets as user's active plan.
    *   **Icon Library**: Use Material Symbols Rounded (weight 500) for all icons.

*   **Future Enhancements (Post-MVP)**:
    *   **Reorder Exercises**: Drag-and-drop to reorder exercises within a day in Edit Mode.
    *   **Duplicate Day**: Copy a day's exercises to another day (e.g., "Copy Day 1 to Day 3").
    *   **Plan Templates**: Save edited plans as templates for future use.
    *   **AI Suggestions**: In Edit Mode, show "AI suggests adding [Exercise]" based on muscle group balance.

*   **Revision History**:
    *   2025-11-18: v3 - Reviewed and approved after 2 rounds of UI critique.
    *   2025-01-XX: v4 - Updated bottom actions to "Activate Plan" / "Customize First". Added Edit Mode. Made expanded days tappable to navigate to Workout Preview (5.05).
