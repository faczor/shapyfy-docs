---
tags:
  - mobile
  - dashboard
screen: Dashboard
agent: "[[designer]]"
feature: "[[features/3-dashboard]]"
design_state: "[[Statuses/Finished]]"
---
# 3.01 - Dashboard Design

> **Parent Feature**: [3-dashboard.md](../features/3-dashboard.md)
> **Navigation**: See [00-app-overview.md](../features/00-app-overview.md) for complete flows

## 1. Visual Preview
> [!TIP]
> *[Insert Screen Mockup Here]*
> *For now, we can use a placeholder or a Mermaid diagram if applicable.*

## 2. Human-Readable Summary
**Key Cases**
*   **Active User (With Plan)**: Sees "Today's Workout" card at top, followed by Weekly Graph.
*   **New/Lapsed User (No Plan)**: Sees "Find Your Plan" card at top, followed by history (if any).
*   **Rest Day**: A distinct "Dark Mode" card appears, signaling recovery/lights out.
*   **Draft State**: If a workout was abandoned, a "Resume" banner appears above everything.

**Data Displayed**
1.  **Plan Hub**: Either current program status OR prompt to find one.
2.  **Weekly Volume**: Liquid graph motivating progress (hidden if no history).
3.  **Recent Workouts**: List of past activity.

## 3. Detailed Designer Specification
### <dashboard_screen>

#### Layout Structure
**Background**: #F3F3F8 (LightBackground)
**Padding**: 16dp horizontal, 16dp top, 80dp bottom (space for Floating Action Button)
**Scrollable**: Vertical (LazyColumn)

**IMPORTANT**: All Icons must be **Material Symbols Rounded** (Weight 500). Do NOT use emojis.

**Order of Sections**:
1.  **Draft Banner** (Conditional)
2.  **Plan Hub Card** (Always Visible - varies by state)
3.  **This Week Stats** (Conditional: `hasWorkoutHistory`)
4.  **Recent Workouts** (Conditional: `hasWorkoutHistory`)

---

#### 1. Plan Hub Card (Top Slot)
**Purpose**: The primary anchor for the user's training structure.

**Development Note**: This card replaces the "Empty State" screen. It is always present.

**Container Style (Shared)**:
- **Background**: #FFFFFF
- **Border radius**: 16dp
- **Padding**: 16dp
- **Shadow**: 0 2dp 8dp rgba(0,0,0,0.08)
- **Margin bottom**: 16dp

**Variant A: Active Plan (The "Today" Card)**
- **Condition**: `activePlan != null` AND `currentDay.type == WORKOUT`

    **Header**:
    - **Eyebrow**: "Current Plan" (12sp, #666666, Uppercase, Tracking 1.0)
    - **Title**: "[Plan Name]" (e.g., "PPL Strength") (18sp, Bold, #000000)
    - **Action**: "Manage" (Top Right, Text Button, 14sp, #4CAF50, Medium) -> *Navigates to Plan Library*

    **Content**:
    - **Subtitle**: "Week [X] â€¢ Day [Y]" (14sp, #666666)
    - **Day Name**: "[Day Name]" (e.g., "Pull Day") (16sp, Medium, #000000)
    
    **Progress Bar**:
    - **Track**: Height 6dp, Radius 3dp, Color #F0F0F0
    - **Indicator**: Color #A8E6CF (LimeGreen), Width % of cycle
    - **Label**: "[X]/[Y] completed" (12sp, #666666, Right aligned)

    **Secondary Actions (Inside Card)**:
    - **"View Program"**: 
        - Style: Text Link with Icon (Color #666666)
        - Text: "View Full Schedule"
        - Icon: `calendar_month` (16dp)
        - **Note**: This is secondary. Primary action is the FAB.

**Variant A2: Rest Day (The "Recovery" Card)**
- **Condition**: `activePlan != null` AND `currentDay.type == REST`

    **Container Override**:
    - **Background**: **#2D2D2D** (Dark Surface / "Lights Out")
    - **Shadow**: 0 4dp 12dp rgba(0,0,0,0.15)
    
    **Content**:
    - **Icon**: `bedtime` (32dp, Color #A8E6CF - Soft Green Accent)
    - **Title**: "Rest Day" (20sp, Bold, #FFFFFF)
    - **Quote**: "Recovery is when growth happens." (14sp, Italic, #CCCCCC)
    - **Action**: "Skip to Next Day" (Text link, Color #9E9E9E) -> *Opens Warning Dialog*

**Variant B1: Empty Library (The "First Steps" Card)**
- **Condition**: `activePlan == null` AND `savedPlans.isEmpty()`

    **Header**:
    - **Title**: "Find Your Plan"
    - **Subtitle**: "Structure helps you progress faster. Start here:"

    **Actions**:
    - **Button 1 (Primary)**:
        - Text: "Get Recommendations" (Auto-Plan)
        - Action: Navigate DIRECTLY to `1.05-personalization`
        - Icon: `auto_awesome`
    - **Button 2 (Secondary)**:
        - Text: "Build from Scratch"
        - Action: Navigate DIRECTLY to `5.02-plan-builder-setup`
        - Icon: `add`

**Variant B2: Populated Library (The "Resume" Card)**
- **Condition**: `activePlan == null` AND `savedPlans.isNotEmpty()`

    **Header**:
    - **Title**: "Plan Library"
    - **Subtitle**: "Select a plan to activate or create a new one."

    **Actions**:
    - **Button 1 (Primary)**:
        - Text: "Open My Plans"
        - Action: Navigate to `5.01-plan-library`
        - Icon: `folder_open`
    - **Button 2 (Secondary)**:
        - Text: "Create New"
        - Action: Navigate to `5.02-plan-builder-setup`
        - Icon: `add`

---

#### 2. This Week Stats (Hero Card)
**Condition**: `hasWorkoutHistory == true`
**Position**: Below Plan Hub Card.

**Content & Style**: 
*   **Identical to previous spec**. (Liquid Fill Chart, Bubbles, Comparison Text).
*   **Refinement**: If `currentVolume == 0`, show "Start your week!" empty graph state instead of hiding it.

---

#### 3. Recent Workouts
**Condition**: `hasWorkoutHistory == true`
**Position**: Below Stats.

**Content & Style**:
*   **Identical to previous spec**. (List of last 5 workouts).

---

#### 4. Fixed Primary Action (Floating Dock)
**Position**: Fixed at bottom center.
**Z-Index**: Highest.

**Container**:
- **Background**: #FFFFFF (translucent optional) or simple spacing wrapper.
- **Padding**: 16dp.

**The Button**:
- **Style**: Full Width, Height 56dp, Radius 16dp.
- **Background**: **#2D7A5F (Primary Green)**.
- **Shadow**: Elevation 8dp (High).
- **Text**: 18sp / Bold / #FFFFFF.

**Logic / Text**:
- **If Active Plan && Workout Day**: "Start Day [X]"
- **If Active Plan && Rest Day**: "Mark Rest Complete" (or hide/change to secondary)
- **If No Plan**: "Start Empty Workout"

---

#### 5. Rest Day Handling (Variant A2)
**Condition**: The user is on a Rest Day of their active plan.

**Card Style**:
- **Background**: Linear Gradient (Indigo/Purple light) - *See previous spec*.
- **Icon**: `bedtime` (Sleeping).
- **Title**: "Rest Day".
- **Quote**: "Recovery is when growth happens."
- **Action**: "Skip to Next Day" (Text link, **not a button**).

### </dashboard_screen>

## 4. Notes
*   **Design Decision**: Comparison with "Screenshot"
    *   The screenshot showed "View Program" and "Skip" as giant buttons inside the card. We rejected this to preserve the **Single Primary Action** rule (The Bottom FAB).
    *   The screenshot showed "No active plan" title. We changed to "Find Your Plan" for better motivation.
    *   The screenshot showed "(Day 3 skipped)" text. We removed this to reduce clutter.
*   **Hierarchy**:
    1.  **FAB** (Do it)
    2.  **Plan Card** (Context)
    3.  **Stats** (Motivation)
    4.  **History** (Record)
